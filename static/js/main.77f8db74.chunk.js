(this["webpackJsonpreservatoin-page"]=this["webpackJsonpreservatoin-page"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),i=a(18),n=a.n(i),l=(a(152),a(153),a(275)),s=a(267),o=a(265),d=a(7),p=Object(o.a)((function(e){return{appbar:{display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"rgb(20,60,100)"},h1:{marginTop:10,marginBottom:0,fontSize:30},hr:{marginTop:-4,width:130,height:2},h5:{marginTop:-5,marginBottom:5}}})),u=function(e){var t=p();return Object(d.jsx)("div",{children:Object(d.jsxs)(s.a,{className:t.appbar,elevation:10,children:[Object(d.jsx)("h1",{className:t.h1,children:"F I N N S"}),Object(d.jsx)("hr",{className:t.hr}),Object(d.jsx)("h6",{className:t.h5,children:"SPORT \u25cb EVENTS \u25cb CLUB"})]})})},j=a(62),b=a.n(j),m=a(86),O=a(94),f=(a(158),a(103)),x=a.n(f),h=(a(159),a(23)),v="SET_TABLE_DATA",g="SET_INITIAL_STATE",y="ADD_AND_REMOVE_FROM_RESERVATION",k="TOGGLE_BALL",B=function(e,t){return function(){var a=Object(m.a)(b.a.mark((function a(c){var r,i,n,l,s,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.month,e.month<=9&&(r="0".concat(r)),i="?q=book&user=".concat(t,"&date=").concat(e.year,"-").concat(r,"-").concat(e.day,"&time=08:00-09:00"),console.log(i),a.next=6,fetch("".concat("https://f05a0e942e75.ngrok.io","/").concat(i),{method:"GET"});case 6:if((n=a.sent).ok){a.next=12;break}return a.next=10,n.json();case 10:throw l=a.sent,new Error(l);case 12:return a.next=14,n.json();case 14:s=a.sent,o=s.map((function(e,t){var a=e.place1.name+e.place1.price+e.place1.time+e.id;return e.id=t+1,e.place1.cord="\u041a\u043e\u0440\u0434 1",e.place1.id=a.replace(/\s/g,""),e.place1.isMarked=!1,e.place1.isBall=!0,a=e.place2.name+e.place2.price+e.place2.time+e.id,e.id=t+1,e.place2.cord="\u041a\u043e\u0440\u0434 2",e.place2.id=a.replace(/\s/g,""),e.place2.isMarked=!1,e.place2.isBall=!0,a=e.place3.name+e.place3.price+e.place3.time+e.id,e.id=t+1,e.place3.cord="\u041a\u043e\u0440\u0434 3",e.place3.id=a.replace(/\s/g,""),e.place3.isMarked=!1,e.place3.isBall=!0,a=e.place4.name+e.place4.price+e.place4.time+e.id,e.id=t+1,e.place4.cord="\u041a\u043e\u0440\u0434 4",e.place4.id=a.replace(/\s/g,""),e.place4.isMarked=!1,e.place4.isBall=!0,a=e.place5.name+e.place5.price+e.place5.time+e.id,e.id=t+1,e.place5.cord="\u041a\u043e\u0440\u0434 5",e.place5.id=a.replace(/\s/g,""),e.place5.isMarked=!1,e.place5.isBall=!0,a=e.place6.name+e.place6.price+e.place6.time+e.id,e.id=t+1,e.place6.cord="\u041a\u043e\u0440\u0434 6",e.place6.id=a.replace(/\s/g,""),e.place6.isMarked=!1,e.place6.isBall=!0,e})),c({type:v,tableData:o,calendarData:e,userId:t});case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},S=function(e){return function(t){t({type:y,item:e})}},I=function(e){var t=e.ref,a=Object(h.c)((function(e){return e.reservations.calendarData})),c=Object(h.b)();return Object(d.jsx)("input",{onClick:function(){return c({type:g})},readOnly:!0,ref:t,placeholder:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f",size:25,value:a?"\u2705 ".concat(a.year,"/").concat(a.month,"/").concat(a.day," "):"",style:{marginTop:"5.5rem",textAlign:"center",padding:"1rem 1rem",fontWeight:"bold",fontSize:"1rem",border:"1px solid white",borderRadius:"100px",color:"white",outline:"none",cursor:"pointer",backdropFilter:"blur(10px",backgroundColor:"rgba(0,0,0,0.3)"},className:"my-custom-input-class"})},M=function(e){var t=Object(c.useState)(""),a=Object(O.a)(t,2),r=a[0],i=a[1],n=Object(h.b)(),l=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.location.href,c=a.split("=")[1],i(t),n(B(t,c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(x.a,{value:r,onChange:function(e){return l(e)},renderInput:I,shouldHighlightWeekends:!0,minimumDate:Object(f.utils)().getToday()})},N=a(33),D=a(276),T=(a(160),function(e){var t=e.place,a=t.isReserved,c=t.isMarked,r=t.price,i=Object(h.b)(),n="";return n="false"===a?"item-disable":"item",c&&(n="item-activ item-price-activ"),Object(d.jsx)("div",{onClick:function(){return i(S(t))},className:n,children:Object(d.jsx)("div",{className:"item-price",children:"".concat(r," \u0433\u0440\u043d")})})}),C=[{title:"\u0427\u0430\u0441",dataIndex:"time",key:"id",fixed:"left",render:function(e){var t=e.replace(/-/g,"");return console.log(),e[0]<10&&":"===e[1]&&(t="0".concat(e.replace(/-/g,""))),Object(d.jsx)("div",{children:t})}},{title:"\u041a\u043e\u0440\u0434 1",dataIndex:"place1",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}},{title:"\u041a\u043e\u0440\u0434 2",dataIndex:"place2",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}},{title:"\u041a\u043e\u0440\u0434 3",dataIndex:"place3",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}},{title:"\u041a\u043e\u0440\u0434 4",dataIndex:"place4",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}},{title:"\u041a\u043e\u0440\u0434 5",dataIndex:"place5",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}},{title:"\u041a\u043e\u0440\u0434 6",dataIndex:"place6",key:"id",render:function(e){return Object(d.jsx)(T,{place:e})}}],w=a(269),E=function(e){var t=Object(h.c)((function(e){return e.reservations.tableData}));return Object(d.jsx)(w.a,{direction:"up",timeout:{enter:500},in:0!==t.length,children:Object(d.jsx)("div",Object(N.a)(Object(N.a)({},e),{},{children:Object(d.jsx)(D.a,{dataSource:t,columns:C,pagination:!1,scroll:{y:400},rowKey:"id"})}))})},A=a(270),R=function(e){var t=Object(h.c)((function(e){return e.reservations})).reservations;return Object(d.jsx)(w.a,{direction:"up",timeout:{enter:500},in:0!==t.length,children:Object(d.jsx)("div",Object(N.a)(Object(N.a)({},e),{},{children:Object(d.jsx)(A.a,{variant:"contained",color:"primary",children:e.children})}))})},_=a(277),L=a(273),z=a(271),F=a(274),G=a(132),V=a.n(G),W=a(279),J=a(272),P=a(278),q=function(e){var t=e.item,a=Object(h.b)();return Object(d.jsx)(P.a,{checked:t.isBall,onChange:function(){var e,c;a((e=t.id,c=t.isBall,{type:k,id:e,isBall:c}))},color:"primary",inputProps:{"aria-label":"secondary checkbox"}})},H=a(131),K=a.n(H),U=function(e){var t=e.item,a=Object(h.b)();return Object(d.jsx)(z.a,{edge:"start",color:"inherit",onClick:function(){a(S(t))},"aria-label":"close",children:Object(d.jsx)(K.a,{color:"secondary"})})},Q=function(e){var t=Object(h.c)((function(e){return e.reservations.reservations})).sort((function(e,t){return e.item.cord===t.item.cord?Number(e.item.time.split(":")[0])>Number(t.item.time.split(":")[0])?1:-1:e.item.cord>t.item.cord?1:-1}));return Object(d.jsx)(W.a,{style:{marginTop:"3.1rem"},children:t.map((function(e,t){var a=e.item.cord,c=e.item.price,r=e.item.time;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{paddingLeft:"10px",paddingRight:"10px",cursor:"default"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(d.jsx)("p",{style:{fontSize:"1rem"},children:a}),Object(d.jsx)("p",{style:{color:"#EC1547"},children:"".concat(r)}),Object(d.jsx)("p",{style:{color:"grey"},children:"\u0446\u0456\u043d\u0430 ".concat(c," \u0433\u0440\u043d")}),Object(d.jsx)(U,{item:e.item})]}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("p",{style:{color:"grey",fontSize:"10px"},children:"\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u043c'\u044f\u0447\u0430 \u0442\u0430 \u0432\u0437\u044f\u0442\u0438 \u0441\u0432\u0456\u0439 *"}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)(q,{item:e.item}),Object(d.jsx)("p",{style:{fontWeight:"bold",fontSize:"10px"},children:"\u041c'\u044f\u0447 50 \u0433\u0440\u043d"})]})]})]}),Object(d.jsx)(J.a,{})]},t)}))})},X=function(e){return Object(d.jsx)(A.a,{autoFocus:!0,color:"inherit",onClick:function(){console.log("\u041e\u041f\u041b\u0410\u0422\u0410")},children:"\u0421\u041f\u041b\u0410\u0422\u0418\u0422\u0418"})},Y=Object(o.a)((function(e){return{appBar:{position:"fixed"},title:{marginLeft:e.spacing(.2),flex:1}}})),Z=r.a.forwardRef((function(e,t){return Object(d.jsx)(w.a,Object(N.a)({direction:"up",ref:t},e))}));function $(e){var t=Y(),a=Object(c.useState)(!1),r=Object(O.a)(a,2),i=r[0],n=r[1],l=Object(h.c)((function(e){return e.reservations.orderSum})),o=function(){n(!1)};return 0===l&&i&&o(),Object(d.jsxs)("div",{children:[Object(d.jsx)(R,{variant:"outlined",color:"primary",onClick:function(){n(!0)},children:"\u0417\u0410\u0420\u0415\u0417\u0415\u0420\u0412\u0423\u0412\u0410\u0422\u0418"}),Object(d.jsxs)(_.a,{fullScreen:!0,open:i,onClose:o,TransitionComponent:Z,children:[Object(d.jsx)(s.a,{className:t.appBar,children:Object(d.jsxs)(L.a,{children:[Object(d.jsx)(z.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close",children:Object(d.jsx)(V.a,{})}),Object(d.jsx)(F.a,{variant:"h6",className:t.title,children:"".concat(l," \u0433\u0440\u043d")}),Object(d.jsx)(X,{})]})}),Object(d.jsx)(Q,{})]})]})}var ee=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(l.a,{}),Object(d.jsx)(u,{}),Object(d.jsx)(M,{}),Object(d.jsx)(E,{}),Object(d.jsx)($,{})]})},te=a(96),ae=a(136),ce={tableData:[],reservations:[],calendarData:"",userId:"",orderSum:0},re=50,ie=a(133),ne=Object(te.b)({reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(N.a)(Object(N.a)({},e),{},{tableData:t.tableData,calendarData:t.calendarData});case g:return ce;case y:var a=t.item,c=a.id,r=a.isMarked,i=a.isReserved,n=a.isBall;if("true"===i)return e;var l,s=e.tableData.map((function(e){return e.place1.id===c&&(e.place1.isMarked=!e.place1.isMarked,e.place1.isBall=!0),e.place2.id===c&&(e.place2.isMarked=!e.place2.isMarked,e.place2.isBall=!0),e.place3.id===c&&(e.place3.isMarked=!e.place3.isMarked,e.place3.isBall=!0),e.place4.id===c&&(e.place4.isMarked=!e.place4.isMarked,e.place4.isBall=!0),e.place5.id===c&&(e.place5.isMarked=!e.place5.isMarked,e.place5.isBall=!0),e.place6.id===c&&(e.place6.isMarked=!e.place6.isMarked,e.place6.isBall=!0),e})),o={userId:e.userId,item:t.item};return l=n&&!r?e.orderSum+Number(o.item.price)+re:n?e.orderSum-Number(o.item.price)-re:e.orderSum-Number(o.item.price),Object(N.a)(Object(N.a)({},e),{},{tableData:s,userId:t.userId,reservations:r?e.reservations.filter((function(e){return e.item.id!==c})):[].concat(Object(ae.a)(e.reservations),[o]),orderSum:l});case k:var d=e.tableData.map((function(e){return e.place1.id===t.id&&(e.place1.isBall=!e.place1.isBall),e.place2.id===t.id&&(e.place2.isBall=!e.place2.isBall),e.place3.id===t.id&&(e.place3.isBall=!e.place3.isBall),e.place4.id===t.id&&(e.place4.isBall=!e.place4.isBall),e.place5.id===t.id&&(e.place5.isBall=!e.place5.isBall),e.place6.id===t.id&&(e.place6.isBall=!e.place6.isBall),e}));return Object(N.a)(Object(N.a)({},e),{},{tableData:d,orderSum:t.isBall?e.orderSum-re:e.orderSum+re});default:return e}}}),le=Object(te.c)(ne,Object(te.a)(ie.a));n.a.render(Object(d.jsx)(h.a,{store:le,children:Object(d.jsx)(ee,{})}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.77f8db74.chunk.js.map